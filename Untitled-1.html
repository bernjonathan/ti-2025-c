<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Random Page</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 24px; line-height:1.5; }
    .card { padding:16px; margin:12px 0; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,.08); }
    header { display:flex; gap:12px; align-items:center; justify-content:space-between; }
    button { padding:8px 12px; border-radius:6px; border:1px solid #888; background:#fff; cursor:pointer; }
    .meta { font-size:0.9rem; color:#444; }
  </style>
</head>
<body>
  <header>
    <div>
      <h1 id="title">Random Page</h1>
      <div class="meta" id="subtitle">Generated content</div>
    </div>
    <div>
      <button id="regen">Regenerate</button>
      <button id="download">Download HTML</button>
    </div>
  </header>

  <main id="content"></main>

  <script>
    function randInt(min, max) { return Math.floor(Math.random()*(max-min+1))+min; }
    function randChoice(arr){ return arr[randInt(0, arr.length-1)]; }
    function randColor(){ return '#' + Array.from({length:6}).map(() => "0123456789ABCDEF"[randInt(0,15)]).join(''); }
    function lorem(words){
      const pool = "lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua".split(' ');
      const out = [];
      for(let i=0;i<words;i++) out.push(randChoice(pool));
      let s = out.join(' ');
      return s.charAt(0).toUpperCase() + s.slice(1) + '.';
    }

    function makeElement(tag, props={}, children=[]){
      const el = document.createElement(tag);
      for(const k in props) el.setAttribute(k, props[k]);
      children.forEach(c => (typeof c === 'string') ? el.appendChild(document.createTextNode(c)) : el.appendChild(c));
      return el;
    }

    function buildRandomPage(){
      const content = document.getElementById('content');
      content.innerHTML = '';
      const sections = randInt(3,7);
      document.getElementById('title').textContent = 'Page ' + Math.random().toString(36).slice(2,8);
      document.getElementById('subtitle').textContent = new Date().toLocaleString();

      for(let i=0;i<sections;i++){
        const bg = randColor();
        const card = makeElement('section', {class:'card', style:`background:${bg}14; border:1px solid ${bg}33;`});
        const h = makeElement('h2', {}, [lorem(randInt(2,5))]);
        const pcount = randInt(1,3);
        card.appendChild(h);
        for(let j=0;j<pcount;j++){
          const p = makeElement('p', {}, [lorem(randInt(8,28))]);
          card.appendChild(p);
        }
        if(Math.random() < 0.5){
          const ul = makeElement('ul');
          const items = randInt(2,5);
          for(let k=0;k<items;k++) ul.appendChild(makeElement('li', {}, [lorem(randInt(2,6))]));
          card.appendChild(ul);
        }
        if(Math.random() < 0.4){
          const img = makeElement('img', { src:`https://picsum.photos/seed/${Math.random().toString(36).slice(2,8)}/600/200`, alt:'random image', style:'width:100%;border-radius:6px;margin-top:8px;' });
          card.appendChild(img);
        }
        content.appendChild(card);
      }
    }

    document.getElementById('regen').addEventListener('click', buildRandomPage);

    document.getElementById('download').addEventListener('click', () => {
      const html = '<!doctype html>\\n' + document.documentElement.outerHTML;
      const blob = new Blob([html], {type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'random_page_' + Date.now() + '.html';
      a.click();
      URL.revokeObjectURL(url);
    });

    // initial
    buildRandomPage();
  </script>
</body>
</html>